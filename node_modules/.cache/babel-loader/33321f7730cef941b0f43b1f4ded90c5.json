{"ast":null,"code":"/* eslint-disable no-unused-vars */\nimport { takeLatest, call, put } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { coursesTypes } from '../types';\nimport { API_URL } from '../../configs'; // watcher saga: watches for actions dispatched to the store, starts worker saga\n\nfunction* getAllCourse(action) {\n  const {\n    data,\n    callback\n  } = action.payload;\n  const {\n    maLKH,\n    maUser\n  } = data;\n\n  try {\n    var _response$data;\n\n    const response = yield call(() => axios.post(`${API_URL}/khoahoc/`, {\n      maLKH,\n      maUser,\n      token\n    }));\n\n    if (response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.success) {\n      var _response$data2;\n\n      yield put({\n        type: coursesTypes.GET_ALL_COURSE_SUCCESS,\n        payload: {\n          data: response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.data\n        }\n      });\n    }\n\n    callback(response === null || response === void 0 ? void 0 : response.data);\n  } catch (error) {\n    var _error$response;\n\n    callback(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n  }\n}\n\nfunction* getAllCategory(action) {\n  const {\n    data,\n    callback\n  } = action.payload;\n\n  try {\n    var _response$data3;\n\n    const response = yield call(() => axios.post(`${API_URL}/loaikhoahoc/`));\n\n    if (response === null || response === void 0 ? void 0 : (_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.success) {\n      var _response$data4;\n\n      yield put({\n        type: coursesTypes.GET_ALL_CATEGORY_SUCCESS,\n        payload: {\n          data: response === null || response === void 0 ? void 0 : (_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.data\n        }\n      });\n    }\n\n    callback(response === null || response === void 0 ? void 0 : response.data);\n  } catch (error) {\n    var _error$response2;\n\n    callback(error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n  }\n}\n\nfunction* getAllAuthor(action) {\n  const {\n    data\n  } = action.payload;\n\n  try {\n    var _response$data5;\n\n    const response = yield call(() => axios.post(`${API_URL}/auth/author/`));\n\n    if (response === null || response === void 0 ? void 0 : (_response$data5 = response.data) === null || _response$data5 === void 0 ? void 0 : _response$data5.success) {\n      var _response$data6;\n\n      yield put({\n        type: coursesTypes.GET_ALL_AUTHOR_SUCCESS,\n        payload: {\n          data: response === null || response === void 0 ? void 0 : (_response$data6 = response.data) === null || _response$data6 === void 0 ? void 0 : _response$data6.data\n        }\n      });\n    } // callback(response?.data)\n\n  } catch (error) {\n    var _error$response3;\n\n    console.log(error === null || error === void 0 ? void 0 : (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data);\n  }\n}\n\nfunction* getUploadedCourses(action) {\n  const {\n    data\n  } = action.payload;\n  const {\n    token\n  } = data;\n\n  try {\n    var _response$data7;\n\n    const response = yield call(() => axios.post(`${API_URL}/khoahoc/uploaded`, {\n      token\n    }));\n    console.log('===============================================');\n    console.log('tryGetVideo', response);\n    console.log('===============================================');\n\n    if (response === null || response === void 0 ? void 0 : (_response$data7 = response.data) === null || _response$data7 === void 0 ? void 0 : _response$data7.success) {\n      var _response$data8;\n\n      yield put({\n        type: coursesTypes.GET_UPLOADED_COURSES_SUCCESS,\n        payload: {\n          data: response === null || response === void 0 ? void 0 : (_response$data8 = response.data) === null || _response$data8 === void 0 ? void 0 : _response$data8.data\n        }\n      });\n    }\n  } catch (error) {\n    var _error$response4;\n\n    console.log(error === null || error === void 0 ? void 0 : (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data);\n  }\n}\n\nfunction* addNewCourse(action) {\n  const {\n    data,\n    callback\n  } = action.payload;\n  const {\n    token,\n    tenKhoaHoc,\n    moTa,\n    gia,\n    thoiHan,\n    maLKH\n  } = data;\n\n  try {\n    var _response$data9;\n\n    const response = yield call(() => axios.post(`${API_URL}/khoahoc/add`, {\n      token,\n      tenKhoaHoc,\n      moTa,\n      gia,\n      thoiHan,\n      maLKH\n    }));\n\n    if (response === null || response === void 0 ? void 0 : (_response$data9 = response.data) === null || _response$data9 === void 0 ? void 0 : _response$data9.success) {\n      var _response$data10;\n\n      yield put({\n        type: coursesTypes.GET_UPLOADED_COURSES_SUCCESS,\n        payload: {\n          data: response === null || response === void 0 ? void 0 : (_response$data10 = response.data) === null || _response$data10 === void 0 ? void 0 : _response$data10.data\n        }\n      });\n    }\n\n    callback(response === null || response === void 0 ? void 0 : response.data);\n  } catch (error) {\n    var _error$response5;\n\n    callback(error === null || error === void 0 ? void 0 : (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data);\n  }\n}\n\nfunction* addNewVideo(action) {\n  const {\n    data,\n    callback\n  } = action.payload;\n\n  try {\n    var _response$data11;\n\n    const response = yield call(() => axios.post(`${API_URL}/baigiang/add`, data));\n\n    if (response === null || response === void 0 ? void 0 : (_response$data11 = response.data) === null || _response$data11 === void 0 ? void 0 : _response$data11.success) {\n      var _response$data12;\n\n      yield put({\n        type: coursesTypes.GET_VIDEOS_OF_COURSE_SUCCESS,\n        payload: {\n          data: response === null || response === void 0 ? void 0 : (_response$data12 = response.data) === null || _response$data12 === void 0 ? void 0 : _response$data12.data\n        }\n      });\n    }\n\n    callback(response === null || response === void 0 ? void 0 : response.data);\n  } catch (error) {\n    var _error$response6;\n\n    callback(error === null || error === void 0 ? void 0 : (_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.data);\n  }\n}\n\nfunction* getArrVideoOfCourse(action) {\n  const {\n    data,\n    callback\n  } = action.payload;\n  const {\n    maKH,\n    token\n  } = data;\n\n  try {\n    var _response$data13;\n\n    const response = yield call(() => axios.post(`${API_URL}/baigiang/`, {\n      maKH,\n      token\n    }));\n\n    if (response === null || response === void 0 ? void 0 : (_response$data13 = response.data) === null || _response$data13 === void 0 ? void 0 : _response$data13.success) {\n      var _response$data14;\n\n      console.log('===============================================');\n      console.log('successssssssssssssssssssssss');\n      console.log('===============================================');\n      yield put({\n        type: coursesTypes.GET_VIDEOS_OF_COURSE_SUCCESS,\n        payload: {\n          data: response === null || response === void 0 ? void 0 : (_response$data14 = response.data) === null || _response$data14 === void 0 ? void 0 : _response$data14.data\n        }\n      });\n    }\n\n    callback(response === null || response === void 0 ? void 0 : response.data);\n  } catch (error) {\n    var _error$response7;\n\n    callback(error === null || error === void 0 ? void 0 : (_error$response7 = error.response) === null || _error$response7 === void 0 ? void 0 : _error$response7.data);\n  }\n}\n\nfunction* getMyCourse(action) {\n  const {\n    data,\n    callback\n  } = action.payload;\n  const {\n    token\n  } = data;\n\n  try {\n    var _response$data15;\n\n    const response = yield call({\n      token\n    });\n\n    if (response === null || response === void 0 ? void 0 : (_response$data15 = response.data) === null || _response$data15 === void 0 ? void 0 : _response$data15.success) {\n      var _response$data16;\n\n      yield put({\n        type: coursesTypes.GET_MY_COURSE_SUCCESS,\n        payload: {\n          data: response === null || response === void 0 ? void 0 : (_response$data16 = response.data) === null || _response$data16 === void 0 ? void 0 : _response$data16.data\n        }\n      });\n    }\n\n    callback(response === null || response === void 0 ? void 0 : response.data);\n  } catch (error) {\n    var _error$response8;\n\n    callback(error === null || error === void 0 ? void 0 : (_error$response8 = error.response) === null || _error$response8 === void 0 ? void 0 : _error$response8.data);\n  }\n}\n\nexport default function* courseSagas() {\n  yield takeLatest(coursesTypes.GET_ALL_COURSE, getAllCourse);\n  yield takeLatest(coursesTypes.GET_ALL_CATEGORY, getAllCategory);\n  yield takeLatest(coursesTypes.GET_ALL_AUTHOR, getAllAuthor);\n  yield takeLatest(coursesTypes.GET_UPLOADED_COURSES, getUploadedCourses);\n  yield takeLatest(coursesTypes.ADD_NEW_COURSE, addNewCourse);\n  yield takeLatest(coursesTypes.ADD_NEW_VIDEO, addNewVideo);\n  yield takeLatest(coursesTypes.GET_VIDEOS_OF_COURSE, getArrVideoOfCourse);\n  yield takeLatest(coursesTypes.GET_MY_COURSE, getMyCourse);\n}","map":{"version":3,"sources":["/home/ngoclong/ReactJS/e-learning/src/redux/sagas/courses.js"],"names":["takeLatest","call","put","axios","coursesTypes","API_URL","getAllCourse","action","data","callback","payload","maLKH","maUser","response","post","token","success","type","GET_ALL_COURSE_SUCCESS","error","getAllCategory","GET_ALL_CATEGORY_SUCCESS","getAllAuthor","GET_ALL_AUTHOR_SUCCESS","console","log","getUploadedCourses","GET_UPLOADED_COURSES_SUCCESS","addNewCourse","tenKhoaHoc","moTa","gia","thoiHan","addNewVideo","GET_VIDEOS_OF_COURSE_SUCCESS","getArrVideoOfCourse","maKH","getMyCourse","GET_MY_COURSE_SUCCESS","courseSagas","GET_ALL_COURSE","GET_ALL_CATEGORY","GET_ALL_AUTHOR","GET_UPLOADED_COURSES","ADD_NEW_COURSE","ADD_NEW_VIDEO","GET_VIDEOS_OF_COURSE","GET_MY_COURSE"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\nimport { takeLatest, call, put } from 'redux-saga/effects'\nimport axios from 'axios'\nimport { coursesTypes } from '../types'\nimport { API_URL } from '../../configs'\n\n// watcher saga: watches for actions dispatched to the store, starts worker saga\nfunction* getAllCourse(action) {\n  const { data, callback } = action.payload\n  const {\n    maLKH,\n    maUser,\n  } = data\n  try {\n    const response = yield call(\n      () => axios.post(`${API_URL}/khoahoc/`, {\n        maLKH,\n        maUser,\n        token,\n      })\n    )\n    if (response?.data?.success) {\n      yield put({\n        type: coursesTypes.GET_ALL_COURSE_SUCCESS,\n        payload: { data: response?.data?.data },\n      })\n    }\n    callback(response?.data)\n  } catch (error) {\n    callback(error?.response?.data)\n  }\n}\nfunction* getAllCategory(action) {\n  const { data, callback } = action.payload\n\n  try {\n    const response = yield call(\n      () => axios.post(`${API_URL}/loaikhoahoc/`)\n    )\n    if (response?.data?.success) {\n      yield put({\n        type: coursesTypes.GET_ALL_CATEGORY_SUCCESS,\n        payload: { data: response?.data?.data },\n      })\n    }\n    callback(response?.data)\n  } catch (error) {\n    callback(error?.response?.data)\n  }\n}\nfunction* getAllAuthor(action) {\n  const { data } = action.payload\n\n  try {\n    const response = yield call(\n      () => axios.post(`${API_URL}/auth/author/`)\n    )\n    if (response?.data?.success) {\n      yield put({\n        type: coursesTypes.GET_ALL_AUTHOR_SUCCESS,\n        payload: { data: response?.data?.data },\n      })\n    }\n    // callback(response?.data)\n  } catch (error) {\n    console.log(error?.response?.data)\n  }\n}\n\nfunction* getUploadedCourses(action) {\n  const { data } = action.payload\n  const { token } = data\n  try {\n    const response = yield call(\n      () => axios.post(`${API_URL}/khoahoc/uploaded`, {\n        token,\n      })\n    )\n    console.log('===============================================')\n    console.log('tryGetVideo', response)\n    console.log('===============================================')\n    if (response?.data?.success) {\n      yield put({\n        type: coursesTypes.GET_UPLOADED_COURSES_SUCCESS,\n        payload: { data: response?.data?.data },\n      })\n    }\n  } catch (error) {\n    console.log(error?.response?.data)\n  }\n}\nfunction* addNewCourse(action) {\n  const { data, callback } = action.payload\n  const {\n    token,\n    tenKhoaHoc,\n    moTa,\n    gia,\n    thoiHan,\n    maLKH,\n  } = data\n  try {\n    const response = yield call(\n      () => axios.post(`${API_URL}/khoahoc/add`, {\n        token,\n        tenKhoaHoc,\n        moTa,\n        gia,\n        thoiHan,\n        maLKH,\n      })\n    )\n    if (response?.data?.success) {\n      yield put({\n        type: coursesTypes.GET_UPLOADED_COURSES_SUCCESS,\n        payload: { data: response?.data?.data },\n      })\n    }\n    callback(response?.data)\n  } catch (error) {\n    callback(error?.response?.data)\n  }\n}\nfunction* addNewVideo(action) {\n  const { data, callback } = action.payload\n\n  try {\n    const response = yield call(\n      () => axios.post(`${API_URL}/baigiang/add`, data)\n    )\n    if (response?.data?.success) {\n      yield put({\n        type: coursesTypes.GET_VIDEOS_OF_COURSE_SUCCESS,\n        payload: { data: response?.data?.data },\n      })\n    }\n    callback(response?.data)\n  } catch (error) {\n    callback(error?.response?.data)\n  }\n}\nfunction* getArrVideoOfCourse(action) {\n  const { data, callback } = action.payload\n  const {\n    maKH,\n    token,\n  } = data\n  try {\n    const response = yield call(\n      () => axios.post(`${API_URL}/baigiang/`, {\n        maKH, token,\n      })\n    )\n    if (response?.data?.success) {\n      console.log('===============================================')\n      console.log('successssssssssssssssssssssss',)\n      console.log('===============================================')\n      yield put({\n        type: coursesTypes.GET_VIDEOS_OF_COURSE_SUCCESS,\n        payload: { data: response?.data?.data },\n      })\n    }\n    callback(response?.data)\n  } catch (error) {\n    callback(error?.response?.data)\n  }\n}\nfunction* getMyCourse(action) {\n  const { data, callback } = action.payload\n  const {\n    token,\n  } = data\n  try {\n    const response = yield call(\n      ({ token })\n    )\n    if (response?.data?.success) {\n      yield put({\n        type: coursesTypes.GET_MY_COURSE_SUCCESS,\n        payload: { data: response?.data?.data },\n      })\n    }\n    callback(response?.data)\n  } catch (error) {\n    callback(error?.response?.data)\n  }\n}\nexport default function* courseSagas() {\n  yield takeLatest(coursesTypes.GET_ALL_COURSE, getAllCourse)\n  yield takeLatest(coursesTypes.GET_ALL_CATEGORY, getAllCategory)\n  yield takeLatest(coursesTypes.GET_ALL_AUTHOR, getAllAuthor)\n  yield takeLatest(coursesTypes.GET_UPLOADED_COURSES, getUploadedCourses)\n  yield takeLatest(coursesTypes.ADD_NEW_COURSE, addNewCourse)\n  yield takeLatest(coursesTypes.ADD_NEW_VIDEO, addNewVideo)\n  yield takeLatest(coursesTypes.GET_VIDEOS_OF_COURSE, getArrVideoOfCourse)\n  yield takeLatest(coursesTypes.GET_MY_COURSE, getMyCourse)\n}\n"]},"metadata":{},"sourceType":"module"}