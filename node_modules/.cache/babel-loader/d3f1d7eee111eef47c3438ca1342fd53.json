{"ast":null,"code":"/* eslint-disable no-unused-vars */\nimport { takeLatest, call, put } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { coursesTypes } from '../types';\nimport { API_URL } from '../../configs'; // watcher saga: watches for actions dispatched to the store, starts worker saga\n\nfunction* getAllCourse(action) {\n  const {\n    data,\n    callback\n  } = action.payload;\n\n  try {\n    var _response$data;\n\n    const response = yield call(() => axios.post(`${API_URL}/khoahoc/`));\n    yield put({\n      type: coursesTypes.GET_ALL_COURSE_SUCCESS,\n      payload: {\n        data: response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.data\n      }\n    });\n    callback(response === null || response === void 0 ? void 0 : response.data);\n  } catch (error) {\n    var _error$response;\n\n    callback(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data);\n  }\n}\n\nfunction* getAllCategory(action) {\n  const {\n    data,\n    callback\n  } = action.payload;\n\n  try {\n    var _response$data2;\n\n    const response = yield call(() => axios.post(`${API_URL}/loaikhoahoc/`));\n    yield put({\n      type: coursesTypes.GET_ALL_CATEGORY_SUCCESS,\n      payload: {\n        data: response === null || response === void 0 ? void 0 : (_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.data\n      }\n    });\n    callback(response === null || response === void 0 ? void 0 : response.data);\n  } catch (error) {\n    var _error$response2;\n\n    callback(error === null || error === void 0 ? void 0 : (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data);\n  }\n}\n\nfunction* getAllAuthor(action) {\n  const {\n    data,\n    callback\n  } = action.payload;\n\n  try {\n    var _response$data3;\n\n    const response = yield call(() => axios.post(`${API_URL}/auth/author/`));\n    yield put({\n      type: coursesTypes.GET_ALL_AUTHOR_SUCCESS,\n      payload: {\n        data: response === null || response === void 0 ? void 0 : (_response$data3 = response.data) === null || _response$data3 === void 0 ? void 0 : _response$data3.data\n      }\n    }); // callback(response?.data)\n  } catch (error) {\n    var _error$response3;\n\n    callback(error === null || error === void 0 ? void 0 : (_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data);\n  }\n}\n\nfunction* filterCourse(action) {\n  const {\n    data,\n    callback\n  } = action.payload;\n  const {\n    maLKH\n  } = data;\n\n  try {\n    var _response$data4;\n\n    const response = yield call(() => axios.post(`${API_URL}/khoahoc/khoahoctheoloai`, {\n      maLKH\n    }));\n    yield put({\n      type: coursesTypes.FILTER_COURSE_SUCCESS,\n      payload: {\n        data: response === null || response === void 0 ? void 0 : (_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.data\n      }\n    });\n    callback(response === null || response === void 0 ? void 0 : response.data);\n  } catch (error) {\n    var _error$response4;\n\n    callback(error === null || error === void 0 ? void 0 : (_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.data);\n  }\n}\n\nfunction* getUploadedVideos(action) {\n  const {\n    data,\n    callback\n  } = action.payload;\n  const {\n    token\n  } = data;\n\n  try {\n    var _response$data5;\n\n    const response = yield call(() => axios.post(`${API_URL}/khoahoc/uploaded`, {\n      token\n    }));\n    console.log('===============================================');\n    console.log('getUploadedVideosSagassss', response);\n    console.log('===============================================');\n    yield put({\n      type: coursesTypes.GET_UPLOADED_VIDEOS_SUCCESS,\n      payload: {\n        data: response === null || response === void 0 ? void 0 : (_response$data5 = response.data) === null || _response$data5 === void 0 ? void 0 : _response$data5.data\n      }\n    });\n    callback(response === null || response === void 0 ? void 0 : response.data);\n  } catch (error) {\n    var _error$response5;\n\n    callback(error === null || error === void 0 ? void 0 : (_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.data);\n  }\n}\n\nexport default function* courseSagas() {\n  yield takeLatest(coursesTypes.GET_ALL_COURSE, getAllCourse);\n  yield takeLatest(coursesTypes.GET_ALL_CATEGORY, getAllCategory);\n  yield takeLatest(coursesTypes.GET_ALL_AUTHOR, getAllAuthor);\n  yield takeLatest(coursesTypes.FILTER_COURSE, filterCourse);\n  yield takeLatest(coursesTypes.GET_UPLOADED_VIDEOS, getUploadedVideos);\n}","map":{"version":3,"sources":["/home/ngoclong/ReactJS/e-learning/src/redux/sagas/courses.js"],"names":["takeLatest","call","put","axios","coursesTypes","API_URL","getAllCourse","action","data","callback","payload","response","post","type","GET_ALL_COURSE_SUCCESS","error","getAllCategory","GET_ALL_CATEGORY_SUCCESS","getAllAuthor","GET_ALL_AUTHOR_SUCCESS","filterCourse","maLKH","FILTER_COURSE_SUCCESS","getUploadedVideos","token","console","log","GET_UPLOADED_VIDEOS_SUCCESS","courseSagas","GET_ALL_COURSE","GET_ALL_CATEGORY","GET_ALL_AUTHOR","FILTER_COURSE","GET_UPLOADED_VIDEOS"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\nimport { takeLatest, call, put } from 'redux-saga/effects'\nimport axios from 'axios'\nimport { coursesTypes } from '../types'\nimport { API_URL } from '../../configs'\n\n// watcher saga: watches for actions dispatched to the store, starts worker saga\nfunction* getAllCourse(action) {\n  const { data, callback } = action.payload\n\n  try {\n    const response = yield call(\n      () => axios.post(`${API_URL}/khoahoc/`)\n    )\n    yield put({\n      type: coursesTypes.GET_ALL_COURSE_SUCCESS,\n      payload: { data: response?.data?.data },\n    })\n    callback(response?.data)\n  } catch (error) {\n    callback(error?.response?.data)\n  }\n}\nfunction* getAllCategory(action) {\n  const { data, callback } = action.payload\n\n  try {\n    const response = yield call(\n      () => axios.post(`${API_URL}/loaikhoahoc/`)\n    )\n    yield put({\n      type: coursesTypes.GET_ALL_CATEGORY_SUCCESS,\n      payload: { data: response?.data?.data },\n    })\n    callback(response?.data)\n  } catch (error) {\n    callback(error?.response?.data)\n  }\n}\nfunction* getAllAuthor(action) {\n  const { data, callback } = action.payload\n\n  try {\n    const response = yield call(\n      () => axios.post(`${API_URL}/auth/author/`)\n    )\n    yield put({\n      type: coursesTypes.GET_ALL_AUTHOR_SUCCESS,\n      payload: { data: response?.data?.data },\n    })\n    // callback(response?.data)\n  } catch (error) {\n    callback(error?.response?.data)\n  }\n}\nfunction* filterCourse(action) {\n  const { data, callback } = action.payload\n  const { maLKH } = data\n  try {\n    const response = yield call(\n      () => axios.post(`${API_URL}/khoahoc/khoahoctheoloai`, {\n        maLKH,\n      })\n    )\n    yield put({\n      type: coursesTypes.FILTER_COURSE_SUCCESS,\n      payload: { data: response?.data?.data },\n    })\n    callback(response?.data)\n  } catch (error) {\n    callback(error?.response?.data)\n  }\n}\nfunction* getUploadedVideos(action) {\n  const { data, callback } = action.payload\n  const { token } = data\n  try {\n    const response = yield call(\n      () => axios.post(`${API_URL}/khoahoc/uploaded`, {\n        token,\n      })\n    )\n    console.log('===============================================')\n    console.log('getUploadedVideosSagassss', response)\n    console.log('===============================================')\n    yield put({\n      type: coursesTypes.GET_UPLOADED_VIDEOS_SUCCESS,\n      payload: { data: response?.data?.data },\n    })\n    callback(response?.data)\n  } catch (error) {\n    callback(error?.response?.data)\n  }\n}\n\nexport default function* courseSagas() {\n  yield takeLatest(coursesTypes.GET_ALL_COURSE, getAllCourse)\n  yield takeLatest(coursesTypes.GET_ALL_CATEGORY, getAllCategory)\n  yield takeLatest(coursesTypes.GET_ALL_AUTHOR, getAllAuthor)\n  yield takeLatest(coursesTypes.FILTER_COURSE, filterCourse)\n  yield takeLatest(coursesTypes.GET_UPLOADED_VIDEOS, getUploadedVideos)\n}\n"]},"metadata":{},"sourceType":"module"}